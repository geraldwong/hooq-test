(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/image_template.b0e4dcdf.jpg"},,,function(e,t,a){e.exports=a.p+"static/media/logo.0388987f.png"},function(e,t,a){e.exports=a(19)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(9),c=a.n(o),r=(a(17),a(1)),i=a(2),p=a(4),l=a(3),u=a(5),d=a(7),h=a.n(d),m=a(6),f=(a(18),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={open:!1},a.togglePanel=a.togglePanel.bind(Object(m.a)(Object(m.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"togglePanel",value:function(e){this.setState({open:!this.state.open})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{onClick:function(t){return e.togglePanel(t)},className:"header"},this.props.title),this.state.open?n.a.createElement("div",{className:"content"},this.props.children):null)}}]),t}(n.a.Component)),b=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(f,{title:"".concat(this.props.episodeNumber,". ").concat(this.props.episodeTitle)},n.a.createElement("p",null,this.props.episodeSynopsis))}}]),t}(n.a.Component),g=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(v,{data:this.props.focusedData}),n.a.createElement("button",{onClick:this.props.handleClick},"Go back to List"))}}]),t}(n.a.Component),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(l.a)(t).call(this,e))).changeSeason=function(e){console.log("Changing season");a.state.currentSeason;a.setState({currentSeason:e}),a.getEpisodesDetails("https://api.themoviedb.org/3/tv/".concat(a.props.data.id,"/season/").concat(e,"?api_key=1cde70c7c55464eecfb2a321de1392af&append_to_response=credits"))},a.getBasicShowDetails=function(e){console.log("In get show details");var t=null,s=null,n=[],o=[];fetch(e).then(function(e){return e.json().then(function(e){console.log(e),e.genres.map(function(e){n.push(e.name)}),e.credits.cast.map(function(e){o.push(e.name)}),s=e.number_of_episodes,t=e.number_of_seasons,a.setState({genres:n,numberOfSeasons:t,numberOfEpisodes:s,cast:o})})}).catch(function(e){return console.log("Error occurred getting basic show details, with error:"+e)})},a.getEpisodesDetails=function(e){console.log("In get episodes details");var t=[];fetch(e).then(function(e){return e.json().then(function(e){e.episodes.map(function(e){t.push({episodeNumber:e.episode_number,episodeTitle:e.name,episodeSynopsis:e.overview})});var s=Array.from({length:a.state.numberOfSeasons},function(e,t){return t+1});a.setState({numberOfSeasonsArray:s,episodes:t})})}).catch(function(e){return console.log("Error occurred getting episodes, with error:"+e)})},a.state={numberOfSeasons:null,numberOfEpisodes:null,numberOfSeasonsArray:[],genres:[],cast:[],episodes:[],currentSeason:1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t="https://image.tmdb.org/t/p/w500".concat(this.props.data.poster);return null==this.props.data.poster&&(t=h.a),n.a.createElement("div",{className:"details-wrapper"},n.a.createElement("div",{className:"details-row-wrapper"},n.a.createElement("div",{className:"poster-wrapper"},n.a.createElement("img",{src:t,alt:"tv show poster 2"})),n.a.createElement("div",{className:"details-headers"},n.a.createElement("p",{className:"show-title"},this.props.data.title),n.a.createElement("p",{className:"show-episodes-info"},"".concat(this.state.numberOfSeasons," Seasons, ").concat(this.state.numberOfEpisodes," Episodes")),n.a.createElement("p",{className:"show-genre"},this.state.genres))),n.a.createElement("p",{className:"show-cast"},"Cast: ".concat(this.state.cast)),n.a.createElement("p",{className:"show-desc"},this.props.data.synopsis),n.a.createElement("div",{className:"episodes-wrapper"},n.a.createElement("div",{className:"seasons-wrapper"},n.a.createElement("p",null,"Seasons:",this.state.numberOfSeasonsArray.map(function(t){return e.state.currentSeason===t?n.a.createElement("span",{className:"season-wrapper-focused",key:t,onClick:function(){return e.changeSeason(t)}}," ",t," "):n.a.createElement("span",{className:"season-wrapper",key:t,onClick:function(){return e.changeSeason(t)}}," ",t," ")}))),this.state.episodes.map(function(e){return n.a.createElement(b,{key:e.episodeNumber,episodeNumber:e.episodeNumber,episodeTitle:e.episodeTitle,episodeSynopsis:e.episodeSynopsis})})))}},{key:"componentDidMount",value:function(){this.getBasicShowDetails("https://api.themoviedb.org/3/tv/".concat(this.props.data.id,"?api_key=1cde70c7c55464eecfb2a321de1392af&append_to_response=credits")),this.getEpisodesDetails("https://api.themoviedb.org/3/tv/".concat(this.props.data.id,"/season/").concat(this.state.currentSeason,"?api_key=1cde70c7c55464eecfb2a321de1392af&append_to_response=credits"))}}]),t}(n.a.Component),w=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"show-wrapper"},n.a.createElement("img",{src:this.props.url,key:this.props.id,alt:"tv show poster",onClick:function(){e.props.handleClick(e.props.data)}}),n.a.createElement("p",{className:"show-title-catalogue"},this.props.data.title))}}]),t}(n.a.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(k,{showsData:this.props.showsData,handleClick:this.props.modifyIsFocused}),n.a.createElement("button",{className:"next-page",onClick:this.props.handleClick},"Next Page"))}}]),t}(n.a.Component),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={handleClick:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"catalogue-wrapper"},this.props.showsData.map(function(t){var a="https://image.tmdb.org/t/p/w500".concat(t.poster);return null==t.poster&&(a=h.a),n.a.createElement(w,{key:t.id,id:t.id,url:a,data:t,handleClick:e.state.handleClick})}))}},{key:"componentDidMount",value:function(){this.setState({handleClick:this.props.handleClick})}}]),t}(n.a.Component),y=a(10),E=a.n(y),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(l.a)(t).call(this,e))).returnToHome=function(){a.getShowData("https://api.themoviedb.org/3/discover/tv?api_key=1cde70c7c55464eecfb2a321de1392af&sort_by=popularity.desc"),a.setState({showFocused:!1,nextPage:2})},a.modifyIsFocused=function(e){var t=a.state.showFocused;window.scroll({top:0,left:0,behavior:"auto"}),a.setState({showFocused:!t,focusedData:e})},a.getShowData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.log("In get show data");var s=[];fetch(e+"&page="+t).then(function(e){return e.json().then(function(e){e.results.map(function(e){s.push({id:e.id,title:e.name,poster:e.poster_path,backdrop:e.backdrop_path,synopsis:e.overview})}),a.setState({showsData:s})})}).catch(function(e){return console.log("Error occurred getting movies, with error:"+e)})},a.onClickNextPageButton=function(){var e=a.state.nextPage;window.scroll({top:0,left:0,behavior:"auto"}),a.getShowData("https://api.themoviedb.org/3/discover/tv?api_key=1cde70c7c55464eecfb2a321de1392af&sort_by=popularity.desc",e),a.setState({nextPage:e+1})},a.onClickToReturn=function(){var e=a.state.showFocused;a.setState({showFocused:!e})},a.state={showsData:[],nextPage:2,showFocused:!1,focusedData:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"site-wrapper"},n.a.createElement("img",{className:"site-header",src:E.a,alt:"TV Shows",onClick:this.returnToHome}),this.state.showFocused?n.a.createElement(g,{focusedData:this.state.focusedData,handleClick:this.onClickToReturn}):n.a.createElement(O,{showsData:this.state.showsData,modifyIsFocused:this.modifyIsFocused,handleClick:this.onClickNextPageButton}))}},{key:"componentDidMount",value:function(){this.getShowData("https://api.themoviedb.org/3/discover/tv?api_key=1cde70c7c55464eecfb2a321de1392af&sort_by=popularity.desc")}}]),t}(n.a.Component);c.a.render(n.a.createElement(j,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.612b8337.chunk.js.map